[{"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\main.ts":"1","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\App.vue":"2","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\store\\index.ts":"3","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\router\\index.ts":"4","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\store\\user.ts":"5","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\router\\routers.ts":"6","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\access\\ACCESSENUM.ts":"7","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\layouts\\BasicLayout.vue":"8","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\AboutView.vue":"9","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\AdminView.vue":"10","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\HomeView.vue":"11","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\NoAuthView.vue":"12","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\index.ts":"13","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\ApiError.ts":"14","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\CancelablePromise.ts":"15","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\OpenAPI.ts":"16","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\services\\UserControllerService.ts":"17","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\layouts\\GlobalHeader.vue":"18","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\request.ts":"19","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\components\\HelloWorld.vue":"20","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\access\\CheckAccess.ts":"21","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\access\\index.ts":"22","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\layouts\\UserLayout.vue":"23","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\user\\UserLoginView.vue":"24","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\user\\UserRegisterView.vue":"25"},{"size":297,"mtime":1700036503835,"results":"26","hashOfConfig":"27"},{"size":582,"mtime":1700040282031,"results":"28","hashOfConfig":"27"},{"size":163,"mtime":1698660703571,"results":"29","hashOfConfig":"27"},{"size":240,"mtime":1698656156012,"results":"30","hashOfConfig":"27"},{"size":780,"mtime":1700052401849,"results":"31","hashOfConfig":"27"},{"size":1583,"mtime":1700041662730,"results":"32","hashOfConfig":"27"},{"size":136,"mtime":1698996266658,"results":"33","hashOfConfig":"27"},{"size":895,"mtime":1698994707549,"results":"34","hashOfConfig":"27"},{"size":89,"mtime":1698651309285,"results":"35","hashOfConfig":"27"},{"size":81,"mtime":1698830820762,"results":"36","hashOfConfig":"27"},{"size":413,"mtime":1698651322243,"results":"37","hashOfConfig":"27"},{"size":87,"mtime":1698830912045,"results":"38","hashOfConfig":"27"},{"size":1754,"mtime":1700034662371,"results":"39","hashOfConfig":"27"},{"size":804,"mtime":1700034662340,"results":"40","hashOfConfig":"27"},{"size":4027,"mtime":1700034662340,"results":"41","hashOfConfig":"27"},{"size":1057,"mtime":1700051602602,"results":"42","hashOfConfig":"27"},{"size":8186,"mtime":1700034662345,"results":"43","hashOfConfig":"27"},{"size":2117,"mtime":1700124321520,"results":"44","hashOfConfig":"27"},{"size":10098,"mtime":1700034662345,"results":"45","hashOfConfig":"27"},{"size":3236,"mtime":1698651322243,"results":"46","hashOfConfig":"27"},{"size":670,"mtime":1700038394577,"results":"47","hashOfConfig":"27"},{"size":1027,"mtime":1700124255674,"results":"48","hashOfConfig":"27"},{"size":745,"mtime":1700046808835,"results":"49","hashOfConfig":"27"},{"size":2128,"mtime":1700123770349,"results":"50","hashOfConfig":"27"},{"size":2178,"mtime":1700120048861,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"12qymvi",{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"54"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"54"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"54"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\main.ts",[],[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\App.vue",[],[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\store\\index.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\router\\index.ts",["109"],"import { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\nimport { routes } from \"@/router/routers\";\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\store\\user.ts",["110"],"import { StoreOptions } from \"vuex\";\nimport ACCESSENUM from \"@/access/ACCESSENUM\";\nimport { UserControllerService } from \"../../generated\";\n\nexport default {\n  namespaced: true,\n  state: () => ({\n    loginUser: {\n      UserName: \"未登录\",\n      // role: ACCESSENUM.NOT_LOGIN,\n    },\n  }),\n  actions: {\n    async getLoginUser({ commit, state }, payload) {\n      // 远程登录\n      const res = await UserControllerService.getLoginUserUsingGet();\n      if (res.code === 0) {\n        commit(\"updateUser\", payload);\n      } else {\n        commit(\"updateUser\", {\n          ...state.loginUser,\n          role: ACCESSENUM.NOT_LOGIN,\n        });\n      }\n    },\n  },\n  mutations: {\n    updateUser(state, payload) {\n      state.loginUser = payload;\n    },\n  },\n} as StoreOptions<any>;\n","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\router\\routers.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\access\\ACCESSENUM.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\layouts\\BasicLayout.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\AboutView.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\AdminView.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\HomeView.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\NoAuthView.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\index.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\ApiError.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\CancelablePromise.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\OpenAPI.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\services\\UserControllerService.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\layouts\\GlobalHeader.vue",["111","112"],"<template>\n  <div>\n    <a-row id=\"globalHeader\" align=\"center\" :wrap=\"false\">\n      <a-col flex=\"auto\">\n        <div>\n          <a-menu\n            mode=\"horizontal\"\n            :selected-keys=\"selectedKey\"\n            @menu-item-click=\"doMenuClick\"\n          >\n            <a-menu-item\n              key=\"0\"\n              :style=\"{ padding: 0, marginRight: '38px' }\"\n              disabled\n            >\n              <div class=\"title-bar\">\n                <img class=\"logo\" src=\"../assets/oj-logo.svg\" />\n                <div class=\"title\">oj system</div>\n              </div>\n            </a-menu-item>\n            <a-menu-item v-for=\"item in visibleRouters\" :key=\"item.path\">\n              {{ item.name }}\n            </a-menu-item>\n          </a-menu>\n        </div>\n      </a-col>\n      <a-col flex=\"100px\">\n        <div>{{ visibleUserName }}</div>\n      </a-col>\n    </a-row>\n  </div>\n</template>\n\n<style scoped>\n.title-bar {\n  display: flex;\n  align-items: center;\n}\n\n.title {\n  color: #165cfd;\n  margin-left: 12px;\n}\n\n.logo {\n  height: 48px;\n}\n</style>\n<script setup lang=\"ts\">\nimport { routes } from \"@/router/routers\";\nimport { useRouter } from \"vue-router\";\nimport { computed, ref } from \"vue\";\nimport { useStore } from \"vuex\";\nimport checkAccess from \"@/access/CheckAccess\";\nimport ACCESSENUM from \"@/access/ACCESSENUM\";\n\nconst store = useStore();\nconst router = useRouter();\n\nconst visibleUserName = computed(() => {\n  if (!store.state.user?.loginUser?.role) {\n    return \"未登录\";\n  } else {\n    return store.state.user?.loginUser?.UserName ?? \"用户\";\n  }\n});\n\n// 需要展示的路由\nconst visibleRouters = computed(() => {\n  return routes.filter((item, index) => {\n    if (item.meta?.hideInMenu) {\n      return false;\n    }\n    // 根据权限过滤菜单\n    if (!checkAccess(store.state.user.loginUser, item.meta?.access as string)) {\n      return false;\n    }\n    return true;\n  });\n});\n\n// 默认主页\nconst selectedKey = ref([\"/\"]);\n\nrouter.afterEach((to) => {\n  selectedKey.value = [to.path];\n});\nconst doMenuClick = (key: string) => {\n  router.push({\n    path: key,\n  });\n};\n</script>\n","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\generated\\core\\request.ts",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\components\\HelloWorld.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\access\\CheckAccess.ts",["113"],"import ACCESSENUM from \"@/access/ACCESSENUM\";\n\n/**\n * 检查权限\n * @param loginUser 用户权限\n * @param needAccess 页面需要的权限\n * @return boolean 有权限true 没有false\n */\nconst checkAccess = (loginUser: any, needAccess = ACCESSENUM.NOT_LOGIN) => {\n  // 如果没有登录\n  const loginUserAccess = loginUser?.role ?? ACCESSENUM.NOT_LOGIN;\n  // 需要用户登录\n  if (needAccess === ACCESSENUM.USER) {\n    if (loginUserAccess === ACCESSENUM.NOT_LOGIN) return false;\n  }\n  //需要管理员权限\n  if (needAccess === ACCESSENUM.ADMIN) {\n    if (loginUserAccess !== ACCESSENUM.ADMIN) return false;\n  }\n  return true;\n};\n\nexport default checkAccess;\n","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\access\\index.ts",["114"],"import ACCESSENUM from \"@/access/ACCESSENUM\";\nimport router from \"@/router\";\nimport store from \"@/store\";\nimport checkAccess from \"@/access/CheckAccess\";\nimport { useStore } from \"vuex\";\n\n// 权限管理，通过路由中带的meta信息核对权限\nrouter.beforeEach(async (to, from, next) => {\n  const loginUser = store.state.user.loginUser;\n  // console.log(\"登录用户信息\", store.state.user.loginUser);\n  //进行权限判断\n  const needAccess = (to.meta?.access as string) ?? ACCESSENUM.NOT_LOGIN;\n\n  //跳转的页面需要登录,再跳转到你要去的界面\n  if (needAccess === ACCESSENUM.USER) {\n    if (!loginUser || !loginUser.role) {\n      next(`/user/login?redirect${to.fullPath}`);\n    } else {\n      next();\n    }\n    return;\n  }\n  // 需要管理员权限\n  if (needAccess === ACCESSENUM.ADMIN) {\n    if (!loginUser || !loginUser.role) {\n      next(`/user/login?redirect=${to.fullPath}`);\n    }\n    if (!checkAccess(loginUser, needAccess)) {\n      next(\"/noauth\");\n      return;\n    }\n  }\n  next();\n});\n","D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\layouts\\UserLayout.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\user\\UserLoginView.vue",[],"D:\\Desktop\\ojsystem-frontend\\ojsystem_frontend\\src\\views\\user\\UserRegisterView.vue",[],{"ruleId":"115","severity":1,"message":"116","line":1,"column":42,"nodeType":"117","messageId":"118","endLine":1,"endColumn":56},{"ruleId":"119","severity":1,"message":"120","line":32,"column":19,"nodeType":"121","messageId":"122","endLine":32,"endColumn":22,"suggestions":"123"},{"ruleId":"115","severity":1,"message":"124","line":55,"column":8,"nodeType":"117","messageId":"118","endLine":55,"endColumn":18},{"ruleId":"115","severity":1,"message":"125","line":70,"column":31,"nodeType":"117","messageId":"118","endLine":70,"endColumn":36},{"ruleId":"119","severity":1,"message":"120","line":9,"column":33,"nodeType":"121","messageId":"122","endLine":9,"endColumn":36,"suggestions":"126"},{"ruleId":"115","severity":1,"message":"127","line":5,"column":10,"nodeType":"117","messageId":"118","endLine":5,"endColumn":18},"@typescript-eslint/no-unused-vars","'RouteRecordRaw' is defined but never used.","Identifier","unusedVar","@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["128","129"],"'ACCESSENUM' is defined but never used.","'index' is defined but never used.",["130","131"],"'useStore' is defined but never used.",{"messageId":"132","fix":"133","desc":"134"},{"messageId":"135","fix":"136","desc":"137"},{"messageId":"132","fix":"138","desc":"134"},{"messageId":"135","fix":"139","desc":"137"},"suggestUnknown",{"range":"140","text":"141"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"140","text":"142"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.",{"range":"143","text":"141"},{"range":"143","text":"142"},[760,763],"unknown","never",[184,187]]